# Hutt — sample configuration file
#
# Place this file at one of:
#   $HUTT_CONFIG              (explicit override)
#   $XDG_CONFIG_HOME/hutt/config.toml
#   ~/.config/hutt/config.toml

# ---------------------------------------------------------------------------
# General
# ---------------------------------------------------------------------------

# Editor command used when composing messages.
# Hutt will try to open the editor in a kitty/tmux split if possible,
# otherwise it blocks the TUI until the editor exits.
# Default: "nvim"
editor = "nvim"

# Shell command to sync mail before refreshing the envelope list.
# Hutt runs this when you press Ctrl-R (SyncMail).
# Leave unset (or comment out) if you handle sync externally.
# sync_command = "mbsync -a"
# sync_command = "offlineimap -o -a Work"

# ---------------------------------------------------------------------------
# Accounts
# ---------------------------------------------------------------------------
# You can define multiple [[accounts]] sections.
# The account with `default = true` is selected at startup (otherwise the
# first account). Switch accounts at runtime with g-Tab / g-Shift+Tab.
#
# Each account gets its own mu database, smart folders, and sync command.

[[accounts]]
name     = "Work"
email    = "you@example.com"
maildir  = "~/Maildir/work"       # root of the Maildir tree for this account
# default = true                  # make this the starting account
# muhome = "~/.cache/mu/work"     # mu database dir (auto-derived if omitted)
# sync_command = "mbsync work"    # per-account sync (overrides global)

# --- SMTP ---
[accounts.smtp]
host       = "smtp.example.com"
port       = 465                   # 465 for implicit TLS, 587 for STARTTLS
encryption = "ssl"                 # "ssl" | "starttls" | "none"
username   = "you@example.com"

# Provide EXACTLY ONE of: password, password_command, or oauth2_command.
# Plain-text password (not recommended — use password_command instead):
# password = "hunter2"

# Shell command whose stdout is the password:
password_command = "pass email/work"

# OAuth2 access-token command (for providers that require it):
# oauth2_command = "oauth2-helper get-token --account work"

# --- Folder mappings ---
# Map logical folder names to the Maildir subfolder paths.
# These are the defaults; override only if your provider uses different names.
[accounts.folders]
inbox   = "/INBOX"
archive = "/All Mail"
drafts  = "/Drafts"
sent    = "/Sent Mail"
trash   = "/Bin"
spam    = "/Junk"

# ---------------------------------------------------------------------------
# A second account example (commented out)
# ---------------------------------------------------------------------------
# [[accounts]]
# name     = "Personal"
# email    = "me@personal.example"
# maildir  = "~/Maildir/personal"
# sync_command = "mbsync personal"
#
# [accounts.smtp]
# host             = "smtp.personal.example"
# port             = 587
# encryption       = "starttls"
# username         = "me@personal.example"
# password_command = "pass email/personal"
#
# [accounts.folders]
# inbox   = "/Inbox"
# archive = "/Archive"
# drafts  = "/Drafts"
# sent    = "/Sent"
# trash   = "/Trash"
# spam    = "/Spam"

# ---------------------------------------------------------------------------
# Snippets
# ---------------------------------------------------------------------------
# Snippets are short text expansions triggered by a prefix while composing.
# Type the trigger string and it will be replaced by the body text.

[[snippets]]
trigger = "/sig"
body    = """\
Best regards,
Your Name
"""

[[snippets]]
trigger = "/ty"
body    = "Thanks for your email — I'll get back to you shortly."

[[snippets]]
trigger = "/addr"
body    = """\
123 Example Street
Anytown, CA 90210
"""

# ---------------------------------------------------------------------------
# Smart Folders (Virtual Folders)
# ---------------------------------------------------------------------------
# Smart folders are named mu search queries that appear alongside maildir
# folders in the folder picker and Tab cycling.
#
# They are stored in SEPARATE per-account files:
#   $XDG_CONFIG_HOME/hutt/smart_folders.<account_name>.toml
# (The plain smart_folders.toml is used as fallback for the first account.)
#
# You can also create/delete them interactively:
#   - Open folder picker (g l), select "+ New smart folder"
#   - Type a mu query, see live preview, press Enter, name it, Enter to save
#   - Press 'd' on a smart folder in the picker to delete it (z to undo)
#
# Example smart_folders.toml:
#
#   [[folders]]
#   name = "Unread from Danny"
#   query = "from:danny flag:unread"
#
#   [[folders]]
#   name = "Recent attachments"
#   query = "mime:application/* date:1w.."
#
#   [[folders]]
#   name = "This week"
#   query = "date:1w.."

# ---------------------------------------------------------------------------
# Custom keybindings
# ---------------------------------------------------------------------------
# Bind keys to built-in actions, shell commands, or folder navigation.
# Custom bindings are checked before the hardcoded defaults.
#
# Value types:
#   "action_name"                     — built-in action (see list below)
#   "/Folder/Path"                    — navigate to a maildir folder
#   { shell = "cmd", reindex = true } — run a shell command
#   { move = "archive" }              — move messages to a folder alias
#   { move = "/Projects" }            — move messages to a literal path
#
# Key syntax:
#   "e", "#", "G" (shift), "ctrl+r", "shift+space"
#   "g i" (two-key sequence, space-separated)
#   "enter", "esc", "space", "tab", "up", "down", "f1"–"f12"
#
# [bindings] entries apply to both normal and thread view modes.
# [bindings.normal] and [bindings.thread] override per-mode.
#
# Action names: next_account, prev_account,
#   archive, trash, spam, move (open folder picker),
#   toggle_read, toggle_star, undo, move_down, move_up, jump_top,
#   jump_bottom, scroll_preview_down, scroll_preview_up,
#   half_page_down, half_page_up, full_page_down, full_page_up,
#   go_inbox, go_archive, go_drafts, go_sent, go_trash, go_spam,
#   go_folder_picker, search, filter_unread, filter_starred,
#   filter_needs_reply, toggle_select, select_down, select_up,
#   open_thread, close_thread, thread_next, thread_prev,
#   thread_toggle_expand, thread_expand_all, compose, reply, reply_all,
#   forward, copy_message_url, copy_thread_url, open_in_browser,
#   command_palette, help, sync, quit
#
# Folder aliases (used with "archive", "trash", "spam", or { move = "..." }):
#   archive, trash, spam, inbox, sent, drafts
#   These resolve to the paths in [accounts.folders] for the active account.

[bindings]
# Examples:
# G = { shell = "mbsync -a", reindex = true }   # sync mail with G
# "ctrl+t" = { shell = "tig", suspend = true }  # open tig (suspends TUI)
# "g s" = "/Sent"                                # g then s → go to Sent
# A = "archive"                                  # remap archive to A
# P = { move = "/Projects" }                     # move to /Projects with P
# I = { move = "inbox" }                         # move to inbox (uses account config)

# ─── Default bindings (normal mode) ───────────────────────────────
# Uncomment and change any of these to override the defaults.
#
# Navigation
# j         = "move_down"
# k         = "move_up"
# "g g"     = "jump_top"
# G         = "jump_bottom"
# space     = "scroll_preview_down"
# "shift+space" = "scroll_preview_up"
# "ctrl+d"  = "half_page_down"
# "ctrl+u"  = "half_page_up"
# "ctrl+f"  = "full_page_down"
# "ctrl+b"  = "full_page_up"
#
# Triage
# e         = "archive"
# "#"       = "trash"
# "!"       = "spam"
# m         = "move"              # open folder picker to move messages
# u         = "toggle_read"
# s         = "toggle_star"
# z         = "undo"
#
# Multi-select
# x         = "toggle_select"
# J         = "select_down"
# K         = "select_up"
#
# Search & filters
# "/"       = "search"
# U         = "filter_unread"
# S         = "filter_starred"
# R         = "filter_needs_reply"
#
# Folders (g-prefix sequences)
# "g i"     = "go_inbox"
# "g a"     = "go_archive"
# "g d"     = "go_drafts"
# "g t"     = "go_sent"
# "g #"     = "go_trash"
# "g !"     = "go_spam"
# "g l"     = "go_folder_picker"
# Tab / Shift+Tab also cycle folders (not rebindable)
#
# Account switching (multi-account only)
# "g tab"   = "next_account"
# "g shift+tab" = "prev_account"
#
# Thread & preview
# enter     = "open_thread"
#
# Compose
# c         = "compose"
# r         = "reply"
# a         = "reply_all"
# f         = "forward"
#
# Linkability
# y         = "copy_message_url"
# Y         = "copy_thread_url"
# "ctrl+o"  = "open_in_browser"
#
# Other
# "ctrl+k"  = "command_palette"
# "ctrl+r"  = "sync"
# "?"       = "help"
# q         = "quit"

# ─── Default bindings (thread view only) ──────────────────────────
# These apply only inside the thread view.  Triage keys (e, #, !,
# u, s, z) and compose keys (r, a, f) also work in thread view.
#
# [bindings.thread]
# q         = "close_thread"
# j         = "thread_next"
# k         = "thread_prev"
# o         = "thread_toggle_expand"
# O         = "thread_expand_all"
# space     = "scroll_preview_down"
# "shift+space" = "scroll_preview_up"

# ─── Normal-mode-only overrides ───────────────────────────────────
# [bindings.normal]
# o = "open_thread"
